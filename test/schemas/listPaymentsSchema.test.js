"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const listPaymentsSchema_1 = require("../../src/schemas/listPaymentsSchema");
describe('ListPaymentsSchema', () => {
    it('accepts no queryStringParameters', () => {
        const { error, value } = listPaymentsSchema_1.ListPaymentsSchema.validate({}, { abortEarly: false });
        expect(error).toBeUndefined();
        expect(value.queryStringParameters).toEqual({});
    });
    it('accepts a valid currency filter', () => {
        const input = { queryStringParameters: { currency: 'EUR' } };
        const { error, value } = listPaymentsSchema_1.ListPaymentsSchema.validate(input);
        expect(error).toBeUndefined();
        expect(value.queryStringParameters.currency).toBe('EUR');
    });
    it('rejects invalid currency filter', () => {
        var _a;
        const input = { queryStringParameters: { currency: 'EURO' } };
        const { error } = listPaymentsSchema_1.ListPaymentsSchema.validate(input, { abortEarly: false });
        expect(error).toBeDefined();
        const msg = (_a = error.details.find(d => d.path.join('.') === 'queryStringParameters.currency')) === null || _a === void 0 ? void 0 : _a.message;
        expect(msg).toMatch(/length must be 3 characters long/);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdFBheW1lbnRzU2NoZW1hLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJsaXN0UGF5bWVudHNTY2hlbWEudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDZFQUEwRTtBQUUxRSxRQUFRLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO0lBQ2xDLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxHQUFHLEVBQUU7UUFDMUMsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyx1Q0FBa0IsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDaEYsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1FBQ3pDLE1BQU0sS0FBSyxHQUFHLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQztRQUM3RCxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLHVDQUFrQixDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1RCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDOUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFOztRQUN6QyxNQUFNLEtBQUssR0FBRyxFQUFFLHFCQUFxQixFQUFFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7UUFDOUQsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLHVDQUFrQixDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUM1RSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDNUIsTUFBTSxHQUFHLEdBQUcsTUFBQSxLQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLGdDQUFnQyxDQUFDLDBDQUFFLE9BQU8sQ0FBQztRQUNyRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEpvaSBmcm9tICdqb2knO1xuaW1wb3J0IHsgTGlzdFBheW1lbnRzU2NoZW1hIH0gZnJvbSAnLi4vLi4vc3JjL3NjaGVtYXMvbGlzdFBheW1lbnRzU2NoZW1hJztcblxuZGVzY3JpYmUoJ0xpc3RQYXltZW50c1NjaGVtYScsICgpID0+IHtcbiAgaXQoJ2FjY2VwdHMgbm8gcXVlcnlTdHJpbmdQYXJhbWV0ZXJzJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZXJyb3IsIHZhbHVlIH0gPSBMaXN0UGF5bWVudHNTY2hlbWEudmFsaWRhdGUoe30sIHsgYWJvcnRFYXJseTogZmFsc2UgfSk7XG4gICAgZXhwZWN0KGVycm9yKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgZXhwZWN0KHZhbHVlLnF1ZXJ5U3RyaW5nUGFyYW1ldGVycykudG9FcXVhbCh7fSk7XG4gIH0pO1xuXG4gIGl0KCdhY2NlcHRzIGEgdmFsaWQgY3VycmVuY3kgZmlsdGVyJywgKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0geyBxdWVyeVN0cmluZ1BhcmFtZXRlcnM6IHsgY3VycmVuY3k6ICdFVVInIH0gfTtcbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gTGlzdFBheW1lbnRzU2NoZW1hLnZhbGlkYXRlKGlucHV0KTtcbiAgICBleHBlY3QoZXJyb3IpLnRvQmVVbmRlZmluZWQoKTtcbiAgICBleHBlY3QodmFsdWUucXVlcnlTdHJpbmdQYXJhbWV0ZXJzLmN1cnJlbmN5KS50b0JlKCdFVVInKTtcbiAgfSk7XG5cbiAgaXQoJ3JlamVjdHMgaW52YWxpZCBjdXJyZW5jeSBmaWx0ZXInLCAoKSA9PiB7XG4gICAgY29uc3QgaW5wdXQgPSB7IHF1ZXJ5U3RyaW5nUGFyYW1ldGVyczogeyBjdXJyZW5jeTogJ0VVUk8nIH0gfTtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBMaXN0UGF5bWVudHNTY2hlbWEudmFsaWRhdGUoaW5wdXQsIHsgYWJvcnRFYXJseTogZmFsc2UgfSk7XG4gICAgZXhwZWN0KGVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgIGNvbnN0IG1zZyA9IGVycm9yIS5kZXRhaWxzLmZpbmQoZCA9PiBkLnBhdGguam9pbignLicpID09PSAncXVlcnlTdHJpbmdQYXJhbWV0ZXJzLmN1cnJlbmN5Jyk/Lm1lc3NhZ2U7XG4gICAgZXhwZWN0KG1zZykudG9NYXRjaCgvbGVuZ3RoIG11c3QgYmUgMyBjaGFyYWN0ZXJzIGxvbmcvKTtcbiAgfSk7XG59KTsiXX0=